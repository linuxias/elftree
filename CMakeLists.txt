CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
PROJECT(rpmtree CXX)

SET(PROJECT_VERSION_MAJOR 0)
SET(PROJECT_VERSION_MINOR 1)
SET(CMAKE_BUILD_TYPE Debug)
SET(EXTRA_CXX_FLAGS "${EXTRA_CXX_FLAGS}")
SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${EXTRA_CXX_FLAGS} -Wall -Winline -g -fPIE -fno-omit-frame-pointer")

SET(OUTPUT_ELF
	"${CMAKE_PROJECT_NAME}"
)

AUX_SOURCE_DIRECTORY(${CMAKE_CURRENT_SOURCE_DIR}/src SOURCES)

ADD_EXECUTABLE(${OUTPUT_ELF} ${SOURCES})
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/include)

SET(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${CMAKE_CURRENT_SOURCE_DIR}/cmake/Modules/")
INCLUDE(FindPkgConfig)
INCLUDE(ApplyPkgConfig)

PKG_CHECK_MODULES(NCURSES_DEPS REQUIRED ncurses)
PKG_CHECK_MODULES(NCURSES_MENU_DEPS REQUIRED menu)
PKG_CHECK_MODULES(NCURSES_FORM_DEPS REQUIRED form)
FIND_PACKAGE(Boost REQUIRED COMPONENTS system filesystem regex program_options)

APPLY_PKG_CONFIG(${CMAKE_PROJECT_NAME} PUBLIC
	NCURSES_DEPS
	NCURSES_MENU_DEPS
	NCURSES_FORM_DEPS
	Boost
)
